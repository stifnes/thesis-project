(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8659:function(e,t,o){Promise.resolve().then(o.bind(o,5956)),Promise.resolve().then(o.bind(o,6190)),Promise.resolve().then(o.bind(o,8394)),Promise.resolve().then(o.bind(o,6881))},5956:function(e,t,o){"use strict";o.r(t);var n=o(7437);o(2265);var r=o(998);t.default=()=>{let{data:e}=(0,r.useSession)();return console.log("session data : ",e),(0,n.jsxs)("div",{className:"m-10",children:[(0,n.jsx)("button",{type:"submit",onClick:()=>{console.log("Signing in Google"),(0,r.signIn)("google")},className:"text-white bg-gradient-to-br from-purple-600 to-blue-500 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-blue-300 dark:focus:ring-blue-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2 mb-2",children:"Sign In"}),(0,n.jsx)("button",{type:"submit",onClick:()=>{console.log("Signing out of Google"),(0,r.signOut)()},className:"text-white bg-gradient-to-br from-purple-600 to-blue-500 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-blue-300 dark:focus:ring-blue-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2 mb-2",children:"Sign Out"})]})}},6190:function(e,t,o){"use strict";o.d(t,{default:function(){return f}});var n=o(7437),r=o(2265),s=o(2126),a=o(7818);o(998);var l=o(6463),i=o(2974),d=o(3027),u=o(4839),c=o(6164);let m=(0,d.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}});r.forwardRef((e,t)=>{let{className:o,variant:r,size:s,asChild:a=!1,...l}=e,d=a?i.g7:"button";return(0,n.jsx)(d,{className:function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return(0,c.m6)((0,u.W)(t))}(m({variant:r,size:s,className:o})),ref:t,...l})}).displayName="Button";var p=()=>((0,l.useRouter)(),(0,n.jsx)("div",{children:(0,n.jsx)("nav",{className:"bg-white border-gray-200 dark:bg-gray-900",children:(0,n.jsxs)("div",{className:"max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4",children:[(0,n.jsx)("span",{className:"self-center text-2xl font-semibold whitespace-nowrap dark:text-white",children:"BearTube"}),(0,n.jsx)("div",{className:"hidden w-full md:block md:w-auto",id:"navbar-default"})]})})}));let h=(0,a.default)(()=>o.e(492).then(o.t.bind(o,8492,23)),{loadableGenerated:{webpack:()=>[8492]},ssr:!1});var f=()=>{let[e,t]=(0,r.useState)([]),[o,a]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{(async()=>{try{let e=await s.Z.get("".concat("http://localhost:8082","/watch/home"));console.log(e),t(e.data),a(!1)}catch(e){console.log("Error in fetching videos : ",e),a(!1)}})()},[]),(0,n.jsxs)("div",{children:[(0,n.jsx)(p,{}),o?(0,n.jsx)("div",{className:"container mx-auto flex justify-center items-center h-screen",children:"Loading..."}):(0,n.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 m-10",children:e.map(e=>(0,n.jsxs)("div",{className:"border rounded-md overflow-hidden",children:[(0,n.jsx)("div",{children:(0,n.jsx)(h,{url:e.url,width:"360px",height:"180px",controls:!0})}),(0,n.jsxs)("div",{className:"p-4",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold mb-2",children:e.title}),(0,n.jsxs)("p",{className:"text-gray-700",children:["Author - ",e.author]}),(0,n.jsx)("p",{className:"text-gray-700",children:e.description})]})]},e.id))})]})}},8394:function(e,t,o){"use strict";o.r(t);var n=o(7437),r=o(2265),s=o(3915);t.default=()=>{let e=(0,r.useRef)(null),t="https://thesis-youtube.s3.us-east-1.amazonaws.com/output/test_mp4_master.m3u8";return(0,r.useEffect)(()=>{let o=e.current;if(s.ZP.isSupported()){console.log("HLS is supported"),console.log(t);let e=new s.ZP;e.attachMedia(o),e.loadSource(t),e.on(s.ZP.Events.MANIFEST_PARSED,function(){console.log("playing video"),o.play()})}else console.log("HLS is not supported")},[t]),(0,n.jsx)("video",{ref:e,controls:!0})}},6881:function(e,t,o){"use strict";o.r(t);var n=o(7437),r=o(2265),s=o(2126),a=o(998);o(6463),t.default=()=>{let{data:e}=(0,a.useSession)(),[t,o]=(0,r.useState)(null),[l,i]=(0,r.useState)(""),[d,u]=(0,r.useState)(""),[c,m]=(0,r.useState)(""),p=async()=>{if(!l||!c){alert("Title and Author are required fields.");return}try{let e=new FormData;e.append("filename",t.name);let{uploadId:o}=(await s.Z.post("".concat("http://localhost:8080","/upload/initialize"),e,{headers:{"Content-Type":"multipart/form-data"}})).data;console.log("Upload id is ",o);let n=Math.ceil(t.size/5242880),r=0,a=[];for(let e=0;e<n;e++){let l=t.slice(r,r+5242880);r+=5242880;let i=new FormData;i.append("filename",t.name),i.append("chunk",l),i.append("totalChunks",n),i.append("chunkIndex",e),i.append("uploadId",o);let d=s.Z.post("".concat("http://localhost:8080","/upload"),i,{headers:{"Content-Type":"multipart/form-data"}});a.push(d)}await Promise.all(a);let i=await s.Z.post("".concat("http://localhost:8080","/upload/complete"),{filename:t.name,totalChunks:n,uploadId:o,title:l,description:d,author:c});console.log(i.data)}catch(e){console.error("Error uploading file:",e)}};return(0,n.jsx)("div",{className:"container mx-auto max-w-lg p-10",children:(0,n.jsxs)("form",{encType:"multipart/form-data",children:[(0,n.jsx)("div",{className:"mb-4",children:(0,n.jsx)("input",{type:"text",name:"title",placeholder:"Title",value:l,onChange:e=>i(e.target.value),required:!0,className:"px-3 py-2 w-full border rounded-md focus:outline-none focus:border-blue-500"})}),(0,n.jsx)("div",{className:"mb-4",children:(0,n.jsx)("input",{type:"text",name:"description",placeholder:"Description",value:d,onChange:e=>u(e.target.value),className:"px-3 py-2 w-full border rounded-md focus:outline-none focus:border-blue-500"})}),(0,n.jsx)("div",{className:"mb-4",children:(0,n.jsx)("input",{type:"text",name:"author",placeholder:"Author",value:c,onChange:e=>m(e.target.value),required:!0,className:"px-3 py-2 w-full border rounded-md focus:outline-none focus:border-blue-500"})}),(0,n.jsx)("div",{className:"mb-4",children:(0,n.jsx)("input",{type:"file",name:"file",onChange:e=>{o(e.target.files[0])},className:"px-3 py-2 w-full border rounded-md focus:outline-none focus:border-blue-500"})}),(0,n.jsx)("button",{type:"button",onClick:p,className:"text-white bg-gradient-to-br from-purple-600 to-blue-500 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-blue-300 dark:focus:ring-blue-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center",children:"Upload"})]})})}}},function(e){e.O(0,[404,998,913,565,971,23,744],function(){return e(e.s=8659)}),_N_E=e.O()}]);